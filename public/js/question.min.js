$(document).ready(function () {
    var OBJETIVO;
    var GENERO;
    var PESO;
    var ALTURA;
    var EDAD;
    var ACTIVIDAD;
    var KCAL;
    var IMC;
    var IMC2;
    var AGUA;
    var EDADMETABOLICA;
    var TIPO;
    var REQ;
    var PESOIDEAL;
    var RECOMENDADO;
    var edad1

    $(".objetivo").click(function (event) {
        console.log(this);
        OBJETIVO = $(this).data("objetivo");
        console.log(OBJETIVO)        
    });

    $(".divsexo2").click(function (event) {

        GENERO = $(this).data("genero");

    })

    $(".actividad").click(function (event) {

        console.log(this);
        ACTIVIDAD = $(this).data("actividad-" + GENERO);
        console.log(ACTIVIDAD)
    });

    $(".resultados").click(function () {

        ALTURA = $("#mts").val()
        EDAD = $("#edad").val()
        PESO = $("#peso").val()      
        if(OBJETIVO == "-100" && ACTIVIDAD == 1.2){
            KCAL =  PESO * 30;
            REQ = KCAL * 1.2;
              console.log(REQ)

              //Aumentar mi peso de manera saludable
          }else if(OBJETIVO == "-100" && ACTIVIDAD == 1.3){
            KCAL =  PESO * 30;
            REQ = KCAL * 1.3;
              console.log(REQ)
          } else if(OBJETIVO == "-100" && ACTIVIDAD == 1.4){
            KCAL =  PESO * 30;
            REQ = KCAL * 1.4;
              console.log(REQ)
          }else  if(OBJETIVO == "-100" && ACTIVIDAD == 1.5){
            KCAL =  PESO * 30;
            REQ = KCAL * 1.5;
              console.log(REQ)
          }else if (OBJETIVO == "-100" && ACTIVIDAD == 1.6){
            KCAL =  PESO * 30;
            REQ = KCAL * 1.6;
              console.log(REQ)
          }else if(OBJETIVO == "-100" && ACTIVIDAD == 1.7){
            KCAL =  PESO * 30;
            REQ = KCAL * 1.7;
              console.log(REQ)
          }

        console.log(ALTURA, EDAD, PESO)
        localStorage.setItem("Edad",EDAD)
        localStorage.setItem("Peso",PESO)
        localStorage.setItem("Altura",ALTURA)

    function formatNumber(num) {
        return num.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
      }      
   // Bajar de peso disminuyendo % de grasa
// debugger;
        if (OBJETIVO == "-500"  && GENERO == "f" && ACTIVIDAD == 1.2) {
            KCAL = 10 * PESO + 6.25 * ALTURA - 5 * EDAD - 161;
            REQ = KCAL * 1.2 - 500;
            console.log(REQ)
        } else if (OBJETIVO == "-500"  && GENERO == "f" && ACTIVIDAD == 1.4) {
            KCAL = 10 * PESO + 6.25 * ALTURA - 5 * EDAD -161;
            REQ = KCAL * 1.4 - 500;
            console.log(REQ)
            // alert(REQ)
        } else if (OBJETIVO == "-500"  && GENERO == "f" && ACTIVIDAD == 1.6) {
            KCAL = 10 * PESO + 6.25 * ALTURA - 5 * EDAD  - 161;
            REQ = KCAL * 1.6 - 500;
            console.log(REQ)
            // alert(REQ + " Requerimiento calorico")
        } else if (OBJETIVO == "-500"  && GENERO == "m" && ACTIVIDAD == 1.3) {
            KCAL = 10 * PESO + 6.25 * ALTURA - 5 * EDAD + 5
            REQ = KCAL * 1.3 - 500;
            console.log(REQ)
            // alert(REQ + " Requerimiento calorico")
        } else if ( OBJETIVO == "-500"  && GENERO == "m" && ACTIVIDAD == 1.5) {
            KCAL = 10 * PESO + 6.25 * ALTURA - 5 * EDAD + 5
            REQ = KCAL * 1.5 - 500;
            console.log(REQ)
            // alert(REQ + " Requerimiento calorico")
        } else if ( OBJETIVO == "-500"  && GENERO == "m" && ACTIVIDAD == 1.7) {
            KCAL = 10 * PESO + 6.25 * ALTURA - 5 * EDAD + 5;
            REQ = KCAL * 1.7 - 500;
            console.log(REQ)
            // alert(REQ + " Requerimiento calorico")
        }

        if (OBJETIVO == "0"  && GENERO == "f" && ACTIVIDAD == 1.2) {
            KCAL = 10 * PESO + 6.25 * ALTURA - 5 * EDAD - 161;
            REQ = KCAL * 1.2;
            console.log(REQ)
        } else if (OBJETIVO == "0"  && GENERO == "f" && ACTIVIDAD == 1.4) {
            KCAL = 10 * PESO + 6.25 * ALTURA - 5 * EDAD -161;
            REQ = KCAL * 1.4;
            console.log(REQ)
            // alert(REQ)
        } else if (OBJETIVO == "0"  && GENERO == "f" && ACTIVIDAD == 1.6) {
            KCAL = 10 * PESO + 6.25 * ALTURA - 5 * EDAD  - 161;
            REQ = KCAL * 1.6;
            console.log(REQ)
            // alert(REQ + " Requerimiento calorico")
        } else if (OBJETIVO == "0"  && GENERO == "m" && ACTIVIDAD == 1.3) {
            KCAL = 10 * PESO + 6.25 * ALTURA - 5 * EDAD + 5
            REQ = KCAL * 1.3;
            console.log(REQ)
            // alert(REQ + " Requerimiento calorico")
        } else if ( OBJETIVO == "0"  && GENERO == "m" && ACTIVIDAD == 1.5) {
            KCAL = 10 * PESO + 6.25 * ALTURA - 5 * EDAD + 5
            REQ = KCAL * 1.5;
            console.log(REQ)
            // alert(REQ + " Requerimiento calorico")
        } else if ( OBJETIVO == "0"  && GENERO == "m" && ACTIVIDAD == 1.7) {
            KCAL = 10 * PESO + 6.25 * ALTURA - 5 * EDAD + 5;
            REQ = KCAL * 1.7;
            console.log(REQ)
            // alert(REQ + " Requerimiento calorico")
        }
localStorage.setItem("req",formatNumber(REQ))

        IMC = PESO / Math.pow(ALTURA, 2);
        IMC2 = IMC * 10000;
        console.log(IMC2 + " IMC")
        // alert(IMC2 + "IMC")

        if (IMC2 < 19.9) {
            TIPO = "bajo peso"
            // localStorage.setItem("bajo",TIPO)

            if (ACTIVIDAD == 1.2 || ACTIVIDAD == 1.3) {
                // alert("BAJO PESO | CASI NUNCA")
                EDADMETABOLICA = parseInt(EDAD) + 4.5 + 3.5;
                // alert(EDADMETABOLICA + " EDADMETABOLICA")
            } else if (ACTIVIDAD == 1.4 || ACTIVIDAD == 1.5) {
                // alert("BAJO PESO | 3 VECES")
                EDADMETABOLICA = parseInt(EDAD);
                // alert(EDADMETABOLICA + " EDADMETABOLICA")
            }
            else if (ACTIVIDAD == 1.6 || ACTIVIDAD == 1.7) {
                // alert("BAJO PESO | 5 VECES")
                EDADMETABOLICA = parseInt(EDAD)-4.5;
                // alert(EDADMETABOLICA + " EDADMETABOLICA")
            }
        
        } else if (IMC2 >= 19.9 && IMC2 <= 24.9) {
            TIPO = "normal"
            // localStorage.setItem("normal",TIPO)
            if (ACTIVIDAD == 1.2 || ACTIVIDAD == 1.3 && TIPO === "normal") {
                // alert("NORMAL | CASI NUNCA")
                console.log(ACTIVIDAD)
                console.log(TIPO)
                EDADMETABOLICA = parseInt(EDAD) + 4.5;
                console.log(EDADMETABOLICA + "EDADNORMAL")
                // alert(EDADMETABOLICA + " EDADMETABOLICA")
            }else if (ACTIVIDAD == 1.4 || ACTIVIDAD == 1.5) {
                // alert("NORMAL | 3 VECES")
                EDADMETABOLICA = parseInt(EDAD);
                // alert(EDADMETABOLICA + " EDADMETABOLICA")
            }
            else if (ACTIVIDAD == 1.6 || ACTIVIDAD == 1.7) {
                // alert("NORMAL | 5 VECES")
                EDADMETABOLICA = parseInt(EDAD)-4.5;
                // alert(EDADMETABOLICA + " EDADMETABOLICA")
            }

        } else if (IMC2 >= 25 && IMC2 <= 29.9) {
            TIPO = "sobre peso"
            // localStorage.setItem("sobrepeso",TIPO)
            if (ACTIVIDAD == 1.2 || ACTIVIDAD == 1.3) {
                // alert("SOBRE PESO | CASI NUNCA")
                console.log(ACTIVIDAD)
                EDADMETABOLICA = parseInt(EDAD) + 4.5 + 3.5;
                console.log(EDADMETABOLICA)
                // alert(EDADMETABOLICA + " EDADMETABOLICA SOBRE PESO")
            }else if (ACTIVIDAD == 1.4 || ACTIVIDAD == 1.5) {
                // alert("SOBRE PESO | 3 VECES")
                EDADMETABOLICA = parseInt(EDAD)+3.5;
                // alert(EDADMETABOLICA + " EDADMETABOLICA")
            }
            else if (ACTIVIDAD == 1.6 || ACTIVIDAD == 1.7) {
                // alert("SOBRE PESO | 5 VECES")
                EDADMETABOLICA = parseInt(EDAD)-4.5+2.5;
                // alert(EDADMETABOLICA + " EDADMETABOLICA")
            }
            
        } else if (IMC2 > 30) {
            TIPO = "obesidad"
            // localStorage.setItem("obesidad",TIPO)
            if (ACTIVIDAD == 1.2 || ACTIVIDAD == 1.3 && IMC2 > 30) {
                // alert("OBESIDAD | CASI NUNCA")
                EDADMETABOLICA = parseInt(EDAD) + 4.5 + 10;

                console.log(EDADMETABOLICA + " EDADMETABOLICA")
                // alert(EDADMETABOLICA + "OBESIDAD | CASI NUNCA")
            }else if (ACTIVIDAD == 1.4 || ACTIVIDAD == 1.5) {
                // alert("OBESIDAD | 3 VECES")
                EDADMETABOLICA = parseInt(EDAD)+10;
                // alert(EDADMETABOLICA + " EDADMETABOLICA")
            }
            else if (ACTIVIDAD == 1.6 || ACTIVIDAD == 1.7) {
                // alert("OBESIDAD | 5 VECES")
                EDADMETABOLICA = parseInt(EDAD)-4.5+10;
                // alert(EDADMETABOLICA + " EDADMETABOLICA")
            }
           
        }
        localStorage.setItem("tipo",TIPO)
        localStorage.setItem("meta",EDADMETABOLICA)

        if (ACTIVIDAD == 1.2 || ACTIVIDAD == 1.3) {
            // alert("casi nunca")
            AGUA = PESO * 35 / 1000;
            // alert(AGUA + " AGUA")
        } else if (ACTIVIDAD == 1.4 || ACTIVIDAD == 1.5) {
            // alert("3 veces")
            AGUA = PESO * 40 / 1000;
            // alert(AGUA + "AGUA")
        } else if (ACTIVIDAD == 1.7 || ACTIVIDAD == 1.6) {
            // alert("mas de 5")
            AGUA = PESO * 50 / 1000;
            // alert(AGUA + "AGUA")
        }

        localStorage.setItem("agua",AGUA)
                
        if(GENERO == "f" ){
            // debugger;
            PESOIDEAL= 21.5 * Math.pow(ALTURA, 2) / 10000; 
            RECOMENDADO= Math.round((((PESO-PESOIDEAL)*0.25)+PESOIDEAL))
        // alert(RECOMENDADO +" MUJER");
        }else if(GENERO == "m"){
            PESOIDEAL= 23 * Math.pow(ALTURA, 2) /10000;
            RECOMENDADO=Math.round((((PESO-PESOIDEAL)*0.25)+PESOIDEAL));
            // alert(RECOMENDADO);
        }
        localStorage.setItem("recomendado",RECOMENDADO)
        // PESOIDEAL= Math.pow(ALTURA, 2) *23; m
        // PESOIDEAL= Math.pow(ALTURA, 2) *21.5;f 
        // RECOMENDADO=((PESO-PESOIDEAL)*0.25)+PESOIDEAL;


    })


});
function modalSave(id) {
    document.getElementById(id).value = id
    $("#modalsave").show();
}
function closeModal() {
    $("#modalsave").hide();
    // $("#modalsave").hide();
}


edad1 = localStorage.getItem("Edad");
peso1 = localStorage.getItem("Peso");
altura1 = localStorage.getItem("Altura");
edadmeta =localStorage.getItem("meta")
calorias =localStorage.getItem("req")
agua1= localStorage.getItem("agua");
rec = localStorage.getItem("recomendado")


$( "#edadinfo" ).html( edad1 + " años" );
$( "#pesoinfo" ).html( peso1 + " kg" );
$( "#alturainfo" ).html( altura1 + " cm" ); 
$("#edadm").html(edadmeta+" años")
$("#kal").html(calorias+" Kcal")
// $("#kal").mask('0,000,000.00', { reverse: true });
$("#agua").html(agua1+" Litros ")
$("#rec").html(rec+" Kg")
// debugger
imcorporal= localStorage.getItem("tipo");  
// imcorporal= localStorage.getItem("sobrepeso");
if(imcorporal == "normal"){
      
    $( "#imc" ).html( imcorporal);
    $( "#mensaje" ).html("Felicidades estas en un peso adecuado! Te invitamos a optimizar tu bienestar de nuestra mano! Déjanos ser tu sensei!")
    
}else if (imcorporal == "sobre peso"){
   
    $( "#imc" ).html( imcorporal);
    $( "#mensaje" ).html("Si realizas actividad física recuerda que el peso es relativo y pesa más el músculo que la grasa. Pero si en tu rutina no está el ejercicio, recuerda que ayer dijiste mañana. No más! Hoy es el mejor día para empezar a cambiar tu vida! ")
}
else if (imcorporal == "bajo peso"){
   
    $( "#imc" ).html( imcorporal);
    $( "#mensaje" ).html("Uy! Estas un poco abajo de tu peso!No te preocupes caíste en buenas manos! con nuestros planes de alimentación tu salud será la óptima!")
}
else if (imcorporal == "obesidad"){
   
    $( "#imc" ).html( imcorporal);
    $( "#mensaje" ).html("Sabemos que el exterior no es lo primordial, así que te invitamos a que nos pruebes por salud! En ti está el alcanzar tu mejor versión!")
}



// imcorporal= localStorage.getItem("bajo");
// imcorporal= localStorage.getItem("sobrepeso");
// imcorporal= localStorage.getItem("obesidad");


